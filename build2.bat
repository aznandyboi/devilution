call emcc Source\ui\common.cpp -o emcc/common.bc --std=c++11 -O3 -DNO_SYSTEM -DEMSCRIPTEN -DZ_SOLO -Wno-logical-op-parentheses -I.
call emcc emcc/appfat_glue.bc emcc/automap.bc emcc/capture.bc emcc/codec.bc emcc/control.bc emcc/cursor.bc emcc/dead.bc emcc/debug.bc emcc/diablo.bc emcc/doom.bc emcc/drlg_l1.bc emcc/drlg_l2.bc emcc/drlg_l3.bc emcc/drlg_l4.bc emcc/dx.bc emcc/effects.bc emcc/encrypt.bc emcc/engine.bc emcc/error.bc emcc/gamemenu.bc emcc/gendung.bc emcc/gmenu.bc emcc/help.bc emcc/init_glue.bc emcc/interfac.bc emcc/inv.bc emcc/itemdat.bc emcc/items.bc emcc/jsfs.bc emcc/smacker.bc emcc/smk_bitstream.bc emcc/smk_hufftree.bc emcc/lighting.bc emcc/loadsave.bc emcc/main.bc emcc/mainmenu.bc emcc/minitext.bc emcc/misdat.bc emcc/missiles.bc emcc/monstdat.bc emcc/monster.bc emcc/movie.bc emcc/mpqapi.bc emcc/msg.bc emcc/msgcmd.bc emcc/multi.bc emcc/objdat.bc emcc/objects.bc emcc/pack.bc emcc/palette.bc emcc/path.bc emcc/pfile.bc emcc/player.bc emcc/plrmsg.bc emcc/portal.bc emcc/quests.bc emcc/render.bc emcc/adpcm.bc emcc/arccommon.bc emcc/archive.bc emcc/checksum.bc emcc/compress.bc emcc/file.bc emcc/huff.bc emcc/locale.bc emcc/crc32.bc emcc/explode.bc emcc/implode.bc emcc/scrollrt.bc emcc/setmaps.bc emcc/sha.bc emcc/sound_common.bc emcc/sound_glue.bc emcc/spelldat.bc emcc/spells.bc emcc/stores.bc emcc/sbmp.bc emcc/smpq.bc emcc/sreg.bc emcc/storm.bc emcc/sync.bc emcc/textdat.bc emcc/themes.bc emcc/tmsg.bc emcc/town.bc emcc/towners.bc emcc/trace.bc emcc/track.bc emcc/trigs.bc emcc/common.bc emcc/credits.bc emcc/diabloui.bc emcc/dialog.bc emcc/main_menu.bc emcc/play.bc emcc/selhero.bc emcc/titlescreen.bc emcc/video.bc emcc/yesno.bc emcc/wave.bc -o Diablo.js -s EXPORT_NAME="Diablo" -O3 -s WASM=1 -s MODULARIZE=1 -s NO_FILESYSTEM=1 -s EXPORTED_FUNCTIONS="['_malloc', '_free']" --post-js ./module-post.js -s ALLOW_MEMORY_GROWTH=1 -s TOTAL_MEMORY=134217728 -s DISABLE_EXCEPTION_CATCHING=0
move Diablo.js Diablo.jscc

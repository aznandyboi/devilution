call emcc Source\sound_glue.cpp -o emcc/sound_glue.bc --std=c++11 -O1 -DNO_SYSTEM -DEMSCRIPTEN -DZ_SOLO -Wno-logical-op-parentheses -I.
call emcc Source\sound_glue.cpp -o emcc_spawn/sound_glue.bc --std=c++11 -O1 -DNO_SYSTEM -DEMSCRIPTEN -DZ_SOLO -DSPAWN -Wno-logical-op-parentheses -I.
call emcc emcc/appfat_glue.bc emcc/automap.bc emcc/capture.bc emcc/codec.bc emcc/control.bc emcc/cursor.bc emcc/dead.bc emcc/debug.bc emcc/diablo.bc emcc/doom.bc emcc/drlg_l1.bc emcc/drlg_l2.bc emcc/drlg_l3.bc emcc/drlg_l4.bc emcc/dx.bc emcc/effects.bc emcc/encrypt.bc emcc/engine.bc emcc/error.bc emcc/gamemenu.bc emcc/gendung.bc emcc/gmenu.bc emcc/help.bc emcc/init_glue.bc emcc/interfac.bc emcc/inv.bc emcc/itemdat.bc emcc/items.bc emcc/jsfs.bc emcc/smacker.bc emcc/smk_bitstream.bc emcc/smk_hufftree.bc emcc/lighting.bc emcc/loadsave.bc emcc/main.bc emcc/mainmenu.bc emcc/minitext.bc emcc/misdat.bc emcc/missiles.bc emcc/monstdat.bc emcc/monster.bc emcc/movie.bc emcc/mpqapi.bc emcc/msg.bc emcc/msgcmd.bc emcc/multi.bc emcc/objdat.bc emcc/objects.bc emcc/pack.bc emcc/palette.bc emcc/path.bc emcc/pfile.bc emcc/player.bc emcc/plrmsg.bc emcc/portal.bc emcc/quests.bc emcc/render.bc emcc/adpcm.bc emcc/arccommon.bc emcc/archive.bc emcc/checksum.bc emcc/compress.bc emcc/file.bc emcc/huff.bc emcc/locale.bc emcc/crc32.bc emcc/explode.bc emcc/implode.bc emcc/scrollrt.bc emcc/setmaps.bc emcc/sha.bc emcc/sound_common.bc emcc/sound_glue.bc emcc/spelldat.bc emcc/spells.bc emcc/stores.bc emcc/sbmp.bc emcc/smpq.bc emcc/sreg.bc emcc/storm.bc emcc/sync.bc emcc/textdat.bc emcc/themes.bc emcc/tmsg.bc emcc/town.bc emcc/towners.bc emcc/trace.bc emcc/track.bc emcc/trigs.bc emcc/common.bc emcc/credits.bc emcc/diabloui.bc emcc/dialog.bc emcc/main_menu.bc emcc/play.bc emcc/selhero.bc emcc/titlescreen.bc emcc/video.bc emcc/yesno.bc emcc/wave.bc -o Diablo.js -s EXPORT_NAME="Diablo" -O1 -s WASM=1 -s MODULARIZE=1 -s NO_FILESYSTEM=1 -s EXPORTED_FUNCTIONS="['_malloc', '_free']" --post-js ./module-post.js -s ALLOW_MEMORY_GROWTH=1 -s TOTAL_MEMORY=134217728 -s DISABLE_EXCEPTION_CATCHING=0
move Diablo.js Diablo.jscc
call emcc emcc_spawn/appfat_glue.bc emcc_spawn/automap.bc emcc_spawn/capture.bc emcc_spawn/codec.bc emcc_spawn/control.bc emcc_spawn/cursor.bc emcc_spawn/dead.bc emcc_spawn/debug.bc emcc_spawn/diablo.bc emcc_spawn/doom.bc emcc_spawn/drlg_l1.bc emcc_spawn/drlg_l2.bc emcc_spawn/drlg_l3.bc emcc_spawn/drlg_l4.bc emcc_spawn/dx.bc emcc_spawn/effects.bc emcc_spawn/encrypt.bc emcc_spawn/engine.bc emcc_spawn/error.bc emcc_spawn/gamemenu.bc emcc_spawn/gendung.bc emcc_spawn/gmenu.bc emcc_spawn/help.bc emcc_spawn/init_glue.bc emcc_spawn/interfac.bc emcc_spawn/inv.bc emcc_spawn/itemdat.bc emcc_spawn/items.bc emcc_spawn/jsfs.bc emcc_spawn/smacker.bc emcc_spawn/smk_bitstream.bc emcc_spawn/smk_hufftree.bc emcc_spawn/lighting.bc emcc_spawn/loadsave.bc emcc_spawn/main.bc emcc_spawn/mainmenu.bc emcc_spawn/minitext.bc emcc_spawn/misdat.bc emcc_spawn/missiles.bc emcc_spawn/monstdat.bc emcc_spawn/monster.bc emcc_spawn/movie.bc emcc_spawn/mpqapi.bc emcc_spawn/msg.bc emcc_spawn/msgcmd.bc emcc_spawn/multi.bc emcc_spawn/objdat.bc emcc_spawn/objects.bc emcc_spawn/pack.bc emcc_spawn/palette.bc emcc_spawn/path.bc emcc_spawn/pfile.bc emcc_spawn/player.bc emcc_spawn/plrmsg.bc emcc_spawn/portal.bc emcc_spawn/quests.bc emcc_spawn/render.bc emcc_spawn/adpcm.bc emcc_spawn/arccommon.bc emcc_spawn/archive.bc emcc_spawn/checksum.bc emcc_spawn/compress.bc emcc_spawn/file.bc emcc_spawn/huff.bc emcc_spawn/locale.bc emcc_spawn/crc32.bc emcc_spawn/explode.bc emcc_spawn/implode.bc emcc_spawn/scrollrt.bc emcc_spawn/setmaps.bc emcc_spawn/sha.bc emcc_spawn/sound_common.bc emcc_spawn/sound_glue.bc emcc_spawn/spelldat.bc emcc_spawn/spells.bc emcc_spawn/stores.bc emcc_spawn/sbmp.bc emcc_spawn/smpq.bc emcc_spawn/sreg.bc emcc_spawn/storm.bc emcc_spawn/sync.bc emcc_spawn/textdat.bc emcc_spawn/themes.bc emcc_spawn/tmsg.bc emcc_spawn/town.bc emcc_spawn/towners.bc emcc_spawn/trace.bc emcc_spawn/track.bc emcc_spawn/trigs.bc emcc_spawn/common.bc emcc_spawn/credits.bc emcc_spawn/diabloui.bc emcc_spawn/dialog.bc emcc_spawn/main_menu.bc emcc_spawn/play.bc emcc_spawn/selhero.bc emcc_spawn/titlescreen.bc emcc_spawn/video.bc emcc_spawn/yesno.bc emcc_spawn/wave.bc -o DiabloSpawn.js -s EXPORT_NAME="DiabloSpawn" -O1 -s WASM=1 -s MODULARIZE=1 -s NO_FILESYSTEM=1 -s EXPORTED_FUNCTIONS="['_malloc', '_free']" --post-js ./module-post.js -s ALLOW_MEMORY_GROWTH=1 -s TOTAL_MEMORY=134217728 -s DISABLE_EXCEPTION_CATCHING=0
move DiabloSpawn.js DiabloSpawn.jscc
